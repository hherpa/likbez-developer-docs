# modules/ipc/ipcMediaHandlers.js

## Описание

Обработчики IPC сообщений для работы с медиафайлами в Electron приложении Likbez. Регистрирует обработчики для открытия, импорта, управления и получения информации о медиафайлах.

## Основные функции

### registerMediaHandlers(ipcMain, mediaManager)

Регистрирует обработчики IPC сообщений для работы с медиафайлами:

### Обработчик 'media:open'

Открывает медиафайл:

- Вызывает метод openMedia у mediaManager
- Возвращает результат открытия (true/false)
- Обрабатывает ошибки с логированием

### Обработчик 'media:chooseAndImport'

Выбирает и импортирует медиафайл:

- Вызывает метод chooseAndImportMedia у mediaManager
- Возвращает информацию об импортированном файле или null
- Обрабатывает ошибки с логированием

### Обработчик 'media:importToNode'

Импортирует медиафайл в узел:

- Вызывает метод importMediaToNode у mediaManager
- Возвращает информацию об импортированном файле или null
- Обрабатывает ошибки с логированием

### Обработчик 'media:resolvePath'

Разрешает путь к медиафайлу:

- Вызывает метод resolveMediaPath у mediaManager
- Возвращает разрешенный путь к файлу
- Обрабатывает ошибки с логированием

### Обработчик 'media:getPreview'

Получает превью медиафайла:

- Вызывает метод getMediaPreview у mediaManager
- Возвращает информацию о превью или null
- Обрабатывает ошибки с логированием

### Обработчик 'media:delete'

Удаляет медиафайл:

- Вызывает метод deleteMedia у mediaManager
- Возвращает результат удаления (true/false)
- Обрабатывает ошибки с логированием

### Обработчик 'media:listNodeMedia'

Получает список медиафайлов узла:

- Вызывает метод listNodeMedia у mediaManager
- Возвращает массив файлов узла
- Обрабатывает ошибки с логированием

### Обработчик 'media:list'

Получает список всех медиафайлов:

- Вызывает метод listMediaFiles у mediaManager
- Возвращает массив всех файлов
- Обрабатывает ошибки с логированием

### Обработчик 'media:getInfo'

Получает информацию о медиафайле:

- Вызывает метод getMediaInfo у mediaManager
- Возвращает информацию о файле или null
- Обрабатывает ошибки с логированием

### Обработчик 'media:getNodeMedia'

Получает медиафайлы узла:

- Вызывает метод getNodeMedia у mediaManager
- Возвращает информацию о файлах узла или null
- Обрабатывает ошибки с логированием

### Обработчик 'media:cleanup'

Очищает неиспользуемые медиафайлы:

- Вызывает метод cleanupUnusedMedia у mediaManager
- Возвращает количество удаленных файлов
- Обрабатывает ошибки с логированием

## Параметры функции

- ipcMain: объект ipcMain из Electron для регистрации обработчиков
- mediaManager: экземпляр MediaManager для выполнения операций с медиафайлами

## Обрабатываемые сообщения

- media:open - открытие медиафайла
- media:chooseAndImport - выбор и импорт медиафайла
- media:importToNode - импорт медиафайла в узел
- media:resolvePath - разрешение пути к медиафайлу
- media:getPreview - получение превью медиафайла
- media:delete - удаление медиафайла
- media:listNodeMedia - список медиафайлов узла
- media:list - список всех медиафайлов
- media:getInfo - получение информации о медиафайле
- media:getNodeMedia - получение медиафайлов узла
- media:cleanup - очистка неиспользуемых медиафайлов

## Импорты

Модуль не содержит импортов, так как получает все необходимые зависимости через параметры функции registerMediaHandlers.