# useTheme.js

## Обзор

Пользовательский React хук для управления темой приложения. Интегрируется с настройками приложения для предоставления состояния темной/светлой темы и функции переключения.

## Назначение

useTheme отвечает за:
- Определение текущего состояния темы (светлая/темная)
- Предоставление функции переключения темы
- Интеграцию с настройками приложения

## Зависимости

Хук использует следующие модули и хуки:
- `useMemo` из React - для мемоизации возвращаемого значения
- `useCallback` из React - для мемоизации функции переключения темы
- `useSettings` из `../../../components/settings/SettingsProvider` - для доступа к настройкам темы

## Возвращаемое значение

Хук возвращает объект со следующими свойствами:

### Состояние темы
- `darkMode` - булево значение, указывающее включена ли темная тема
- `toggleTheme` - функция для переключения темы

```javascript
const value = useMemo(() => ({
  darkMode,
  toggleTheme,
}), [darkMode, toggleTheme]);
```

!> Используется мемоизация для оптимизации производительности

## Логика работы

### Определение темной темы
Хук определяет состояние темной темы на основе настроек:
```javascript
const { theme, setTheme } = useSettings();
const darkMode = theme === 'dark';
```

!> Жестко закодированное значение 'dark' для определения темной темы

### Переключение темы
Функция для переключения между светлой и темной темами:
```javascript
const toggleTheme = useCallback(() => {
  const newTheme = darkMode ? 'light' : 'dark';
  setTheme(newTheme);
}, [darkMode, setTheme]);
```

!> Используется мемоизация для оптимизации производительности
!> Жестко закодированные значения 'light' и 'dark' для тем

## Использование

Хук используется в основном компоненте App.js и других компонентах для управления темой:
```javascript
const { darkMode, toggleTheme } = useTheme();
```

### Применение темы
```javascript
// Применение класса темы к элементу
<div className={`App${darkMode ? ' dark-theme' : ''}`}>
  {/* Содержимое приложения */}
</div>
```

### Переключение темы
```javascript
// Кнопка переключения темы
<button onClick={toggleTheme}>
  {darkMode ? 'Светлая тема' : 'Темная тема'}
</button>
```

## Интеграция с другими компонентами

### useSettings
Используется для доступа к настройкам темы:
```javascript
import { useSettings } from '../../../components/settings/SettingsProvider';
const { theme, setTheme } = useSettings();
```

## Принципы работы

1. **Интеграция** - тесная интеграция с настройками приложения
2. **Оптимизация** - использование useMemo и useCallback для предотвращения лишних перерисовок
3. **Гибкость** - поддержка переключения между двумя темами
4. **Совместимость** - совместимость с настройками приложения

## Особенности реализации

!> Поддерживается только две темы: светлая и темная
!> Жестко закодированные значения 'light' и 'dark' для тем
!> Отсутствует поддержка пользовательских тем
!> Не предусмотрена возможность расширения количества тем
!> Отсутствует валидация значений темы из настроек
!> Жестко закодированное значение 'dark' для определения темной темы