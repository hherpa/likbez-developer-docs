# CacheManager.js

## Общее описание
Файл `CacheManager.js` содержит класс `CacheManager`, который отвечает исключительно за управление кэшированием результатов парсинга. Класс реализует простой механизм кэширования с ограничением по размеру и сбором статистики.

## Класс CacheManager

### Конструктор
```javascript
constructor(maxSize = PARSER_CONFIG.cache.defaultSize)
```

Создает экземпляр менеджера кэша.

**Параметры:**
- `maxSize` (number): Максимальный размер кэша (по умолчанию из конфигурации)

**Свойства:**
- `cache` (Map): Хранилище кэшированных значений
- `maxSize` (number): Максимальный размер кэша
- `cacheHits` (number): Количество попаданий в кэш
- `cacheMisses` (number): Количество промахов кэша

### Методы

#### getCacheKey(content)
Генерирует ключ для кэширования на основе контента.

**Параметры:**
- `content` (string): Контент для генерации ключа

**Возвращает:**
- `string`: Ключ кэша

**Алгоритм:**
Использует простой хеш алгоритм для генерации ключа из строки контента.

#### get(key)
Получает значение из кэша по ключу.

**Параметры:**
- `key` (string): Ключ кэша

**Возвращает:**
- `any`: Значение из кэша или undefined, если ключ не найден

**Побочные эффекты:**
- Увеличивает счетчик попаданий или промахов

#### set(key, value)
Сохраняет значение в кэш.

**Параметры:**
- `key` (string): Ключ кэша
- `value` (any): Значение для сохранения

**Особенности:**
- Ограничивает размер кэша, удаляя старые записи при превышении лимита

#### clear()
Очищает кэш и сбрасывает статистику.

#### getStats()
Получает статистику использования кэша.

**Возвращает:**
- `Object`: Статистика кэша с полями:
  - `size` (number): Текущий размер кэша
  - `maxSize` (number): Максимальный размер кэша
  - `hitRate` (number): Процент попаданий в кэш
  - `hits` (number): Количество попаданий
  - `misses` (number): Количество промахов

## Зависимости
- `PARSER_CONFIG` из `./ParserConfig.js`

## Использование
Класс используется в основном классе `Parser` для кэширования результатов парсинга и повышения производительности при повторной обработке одинакового контента.