# Документация для MarkdownOriginalParser.js

## Общее описание
Файл MarkdownOriginalParser.js содержит функцию для парсинга markdown-контента в элементы, которые могут быть отрендерены в редакторе. Основная функция parseMarkdownElementsFromOriginal анализирует текстовый контент и преобразует его в структурированные элементы с типами и позициями.

## Основная функция

### parseMarkdownElementsFromOriginal(content, detectElementType, processInlineMarkdown)
Функция парсит markdown-контент и возвращает массив элементов.

#### Параметры:
- content (string): Текстовый контент для парсинга
- detectElementType (function): Функция для определения типа элемента по строке
- processInlineMarkdown (function): Функция для обработки inline markdown-элементов

#### Возвращаемое значение:
Массив объектов элементов со следующими свойствами:
- type (string): Тип элемента (h1, h2, h3, p, ul, hr, latex, boxLatex)
- content (string|Array): Содержимое элемента
- position (number): Позиция элемента в исходном тексте

## Поддерживаемые элементы

### Заголовки
- # Заголовок → элемент h1
- ## Заголовок → элемент h2
- ### Заголовок → элемент h3

### Списки
- - Элемент списка → элемент ul с массивом элементов списка

### Разделители
- --- → элемент hr

### LaTeX элементы
- {.LaTeX}формула{.LaTeX} → inline LaTeX
- {.box-LaTeX}формула{.box-LaTeX} → блочный LaTeX

### Параграфы
Все остальные строки преобразуются в элементы типа 'p'

## Особенности обработки

1. Пустые строки преобразуются в пустые параграфы
2. Элементы с одиночными тегами (например, {.symbol}, {.handle} и т.д.) игнорируются при создании элементов, если они не содержат LaTeX
3. Inline элементы обрабатываются отдельно через функцию processInlineMarkdown
4. Позиции элементов сохраняются для возможности последующего редактирования