# SearchTag Component Documentation

## Описание
SearchTag - это компонент для поиска и выбора тегов в интерфейсе редактора. Компонент предоставляет поле ввода с автодополнением для поиска тегов по названию. При вводе текста отображается список предложений, из которых пользователь может выбрать нужный тег. Компонент также отображает информацию о выбранном теге с цветовой индикацией.

## Экспортируемые компоненты
- `SearchTag` - основной компонент поиска тегов
- `default` - экспорт компонента по умолчанию

## Структура компонента
1. **Поле ввода**:
   - input элемент для ввода поискового запроса
   - placeholder с текстом "Поиск тегов..." (настраиваемый)
   - стилизация с закругленными углами и границей

2. **Список предложений**:
   - контейнер со стилизацией (граница, скругленные углы, прокрутка)
   - максимальная высота 160px с вертикальной прокруткой
   - отображается только при наличии результатов поиска

3. **Элементы списка**:
   - div элементы для каждого предложения
   - стилизация с курсором-указателем
   - обработчик клика для выбора элемента

4. **Индикатор выбранного тега**:
   - отображение информации о выбранном теге
   - цветная точка для визуальной индикации тега
   - текст с названием выбранного тега
   - сообщение "Тег не выбран" если тег не выбран

## Взаимодействия
Компонент принимает следующие пропсы:
- `value` - текущее значение поля ввода
- `onChange` - обработчик изменения значения поля ввода
- `suggestions` - массив предложений для автодополнения (по умолчанию пустой массив)
- `onSelect` - обработчик выбора элемента из списка предложений
- `onApplyTag` - обработчик применения тега (бизнес-логика)
- `onAfterApply` - обработчик после применения тега (локальные обновления UI)
- `onClear` - обработчик очистки поля ввода
- `placeholder` - текст-заполнитель для поля ввода (по умолчанию "Поиск тегов...")
- `minChars` - минимальное количество символов для начала поиска (по умолчанию 1)
- `getColor` - функция для получения цвета тега
- `selectedTag` - текущий выбранный тег

Компонент использует локальное состояние `localSelected` для отслеживания выбранного тега. При выборе тега из списка:
1. Устанавливается локальный выбранный тег
2. Вызывается обработчик `onApplyTag` для бизнес-логики
3. Вызывается обработчик `onSelect`
4. Очищается поле ввода через `onClear` или `onChange`
5. Вызывается обработчик `onAfterApply` для локальных обновлений UI

Список предложений фильтруется по введенному тексту и ограничивается 8 элементами. Предложения фильтруются, чтобы не показывать уже выбранный тег.

## Зависимости
- React (useMemo, useState)
- CSS (для стилизации элементов)

## Архитектура
Компонент следует паттерну контролируемого компонента React с внутренним состоянием для отслеживания выбранного тега. Компонент инкапсулирует сложную логику фильтрации предложений и управления состоянием выбранного тега. Используется мемоизация через `useMemo` для оптимизации фильтрации предложений. Компонент следует принципу разделения ответственности - он управляет UI состоянием и делегирует бизнес-логику через коллбэки. Стилизация компонента реализована inline стилями с вынесенными константами для переиспользуемых стилей. Компонент экспортируется по умолчанию, что упрощает его импорт в других частях приложения. Все обработчики событий передаются через пропсы, что обеспечивает гибкость в использовании компонента. Компонент поддерживает настраиваемое минимальное количество символов для начала поиска и позволяет настраивать текст placeholder. Условный рендеринг списка предложений и индикатора выбранного тега реализован через логические выражения. Компонент поддерживает как внешнее управление выбранным тегом через пропс `selectedTag`, так и внутреннее состояние через `localSelected`.