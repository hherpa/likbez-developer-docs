# EditableContent.js

## Назначение
React компонент для редактируемого контента в визуальном редакторе, отвечающий за рендеринг contentEditable элемента.

## Экспортируемые компоненты
- `EditableContent` - основной компонент редактируемого контента

## Структура
1. Импорты React и useEffect
2. Компонент `EditableContent` с пропсами:
   - `editRef` - ref для доступа к элементу
   - `editValue` - значение для редактирования
   - `handleBlur` - обработчик потери фокуса
   - `handleKeyDown` - обработчик нажатия клавиш
   - `isEditing` - флаг режима редактирования
   - `useTextContent` - флаг использования textContent вместо innerHTML

## Взаимодействия
1. Использует React хуки (useEffect, useRef)
2. Работает с DOM API (contentEditable, selection, range)
3. Принимает ref для доступа к элементу
4. Использует useEffect для инициализации содержимого
5. Обрабатывает события onBlur и onKeyDown
6. Управляет отображением в зависимости от режима редактирования

## Зависимости
- React

## Архитектура
Следует принципу единственной ответственности (SRP), отвечая только за рендеринг contentEditable. Использует React хуки для управления состоянием и эффектами.

Компонент `EditableContent` реализует логику:
1. Использует useRef для отслеживания инициализации содержимого
2. В useEffect:
   - Инициализирует содержимое только один раз при начале редактирования
   - Устанавливает содержимое в зависимости от флага useTextContent
   - Для textContent использует простое присваивание
   - Для innerHTML преобразует \n в <br> для правильного отображения переносов
   - Устанавливает курсор в конец текста
   - Сбрасывает флаг инициализации при выходе из режима редактирования
3. Возвращает null, если не в режиме редактирования
4. Рендерит contentEditable div с переданными обработчиками и стилями