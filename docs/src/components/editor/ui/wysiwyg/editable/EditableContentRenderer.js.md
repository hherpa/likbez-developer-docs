# EditableContentRenderer.js

## Назначение
Рендерер для редактируемого контента в превью режиме редактора, оборачивающий элементы в редактируемые компоненты.

## Экспортируемые компоненты
- `EditableContentRenderer` - класс рендерера редактируемого контента

## Структура
1. Импорты React, рендереров и утилит
2. Класс `EditableContentRenderer` со статическими методами:
   - `elementBuilder` - экземпляр ElementBuilder
   - `elementSorter` - экземпляр ElementSorter
   - `renderContent` - метод рендеринга контента
   - `getContentContainerStyles` - метод получения стилей контейнера

## Взаимодействия
1. Использует React для рендеринга
2. Работает с rendererManager для рендеринга элементов
3. Использует ElementBuilder для создания массива элементов
4. Использует ElementSorter для сортировки элементов
5. Использует ElementClassifier для определения типа элементов
6. Работает с EditableElement для оборачивания редактируемых элементов
7. Принимает оригинальный контент, распарсенный контент, контекст и onChange
8. Обрабатывает ошибки рендеринга с отображением сообщения

## Зависимости
- React
- `RendererManager.js` - для рендеринга элементов
- `ElementBuilder.js` - для создания массива элементов
- `ElementSorter.js` - для сортировки элементов
- `ElementClassifier.js` - для классификации элементов
- `EditableElement.js` - для оборачивания редактируемых элементов
- `Logger.js` - для логирования

## Архитектура
Следует принципу единственной ответственности (SRP), отвечая только за рендеринг редактируемого контента. Использует композицию с другими классами для выполнения специализированных задач.

Метод `renderContent` реализует логику:
1. Создает массив всех элементов с позициями через ElementBuilder
2. Сортирует элементы по позиции через ElementSorter
3. Рендерит элементы с оберткой для редактирования:
   - Определяет, является ли элемент редактируемым (markdown или block элементы)
   - Оборачивает редактируемые элементы в EditableElement
   - Для остальных элементов просто рендерит их
4. Обрабатывает ошибки рендеринга с отображением сообщения об ошибке

Метод `getContentContainerStyles` реализует логику:
1. Возвращает стили контейнера контента в зависимости от контекста (darkMode)
2. Определяет параметры отображения (padding, color, fontSize, lineHeight и т.д.)