# ElementDuplicatePreventer.js

## Назначение
Модуль для предотвращения дублирования элементов в редакторе, отвечающий за проверку и предотвращение создания дубликатов элементов.

## Экспортируемые компоненты
- `extractTextFromElement` - извлечение текста из обернутого элемента
- `findElementInLine` - поиск элемента в строке
- `findElementInAllLines` - поиск элемента во всех строках

## Структура
1. Импорты классификаторов
2. Функция `extractTextFromElement` для извлечения текста из элемента
3. Функция `findElementInLine` для поиска элемента в строке
4. Функция `findElementInAllLines` для поиска элемента во всех строках

## Взаимодействия
1. Использует ElementClassifier для создания паттернов элементов
2. Работает со строками и массивами строк
3. Использует регулярные выражения для поиска элементов
4. Принимает текст, тип элемента и массив строк
5. Возвращает результаты поиска с информацией о найденных элементах

## Зависимости
- `ElementClassifier.js` - для создания паттернов элементов

## Архитектура
Следует принципу единственной ответственности (SRP), отвечая только за предотвращение дублирования элементов.

Функция `extractTextFromElement` реализует логику:
1. Проверяет валидность входного текста
2. Создает паттерн для поиска элемента через createElementPattern
3. Ищет совпадение текста с паттерном
4. Если найдено совпадение, возвращает информацию об элементе
5. Иначе возвращает текст без изменений

Функция `findElementInLine` реализует логику:
1. Проверяет валидность параметров
2. Создает паттерн для поиска элемента
3. Находит все совпадения элементов в строке
4. Нормализует содержимое элементов и искомый текст
5. Сравнивает содержимое элементов с искомым текстом различными способами
6. Возвращает информацию о найденном элементе или отсутствии совпадений

Функция `findElementInAllLines` реализует логику:
1. Проверяет валидность параметров
2. Проходит по всем строкам
3. Вызывает findElementInLine для каждой строки
4. Возвращает информацию о найденном элементе с индексом строки
5. Если ничего не найдено, возвращает отрицательный результат