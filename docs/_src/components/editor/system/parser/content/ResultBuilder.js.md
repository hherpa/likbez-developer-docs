# ResultBuilder

Класс `ResultBuilder` отвечает исключительно за построение результата парсинга текста. Он принимает извлеченные элементы и формирует структурированный объект результата, который используется в дальнейшей обработке.

## Методы

### `buildResult(extractedElements, cleanText, markdownElements, elementColors)`

Создает структурированный результат парсинга на основе извлеченных элементов.

**Параметры:**
- `extractedElements` (Object): Объект с извлеченными элементами различных типов
- `cleanText` (string): Очищенный текст без специальных элементов
- `markdownElements` (Array): Массив элементов Markdown
- `elementColors` (Object): Объект с цветами для элементов

**Возвращает:**
- `Object`: Структурированный результат парсинга, содержащий:
  - `title` (string): Заголовок документа
  - `cleanText` (string): Очищенный текст
  - `elements` (Object): Все извлеченные элементы, сгруппированные по типам
  - `metadata` (Object): Метаданные о наличии различных типов элементов
  - Поля для обратной совместимости: `tags`, `links`, `symbols`, `handles`, `images`

### `buildEmptyResult()`

Создает пустую структуру результата для инициализации.

**Возвращает:**
- `Object`: Пустая структура данных с теми же полями, что и у полного результата, но с пустыми массивами и значениями по умолчанию.

## Структура результата

Результат содержит следующие основные секции:

1. **Основные данные:**
   - `title`: Заголовок документа
   - `cleanText`: Текст без специальных элементов

2. **Элементы:**
   - `latex`: Элементы LaTeX (устарело)
   - `boxLatex`: Элементы Box-LaTeX (устарело)
   - `images`: Медиа элементы
   - `handles`: Элементы-маркеры
   - `symbols`: Символьные элементы
   - `elements`: Элементы-теги
   - `links`: Ссылки на другие узлы
   - `colors`: Цветовые элементы
   - `markdown`: Элементы Markdown

3. **Метаданные:**
   - Флаги наличия различных типов элементов
   - `elementColors`: Цвета элементов

4. **Поля обратной совместимости:**
   - Плоские массивы для совместимости со старым кодом