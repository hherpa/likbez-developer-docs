# modules/utils.js

## Описание

Утилитарный модуль Electron приложения Likbez. Содержит вспомогательные классы для работы с файловой системой, JSON, валидацией данных, MIME типами и другими общими функциями.

## Основные компоненты

### FileUtils

Утилиты для работы с файловой системой:

- getDataRoot(): получает путь к корневой директории данных
- ensureDir(dirPath): создает директорию рекурсивно
- fileExists(filePath): проверяет существование файла
- sanitizeDirName(name): санитизирует имя директории
- getNodeFolderName(nodeId, title): создает имя папки узла

### JsonUtils

Утилиты для работы с JSON файлами:

- writeJson(filePath, data): записывает данные в JSON файл с форматированием
- readJson(filePath, fallback): читает данные из JSON файла с fallback значением

### ValidationUtils

Утилиты для валидации данных:

- validateDataStructure(data): валидирует структуру данных приложения
- validateFilePath(filePath): валидирует путь к файлу для предотвращения path traversal атак

### MimeUtils

Утилиты для работы с MIME типами:

- getMimeType(ext): возвращает MIME тип по расширению файла
- isMediaFile(filename): проверяет, является ли файл медиафайлом

## Экспортируемые классы

Модуль экспортирует следующие классы:

- FileUtils: утилиты для работы с файловой системой
- JsonUtils: утилиты для работы с JSON
- ValidationUtils: утилиты для валидации данных
- MimeUtils: утилиты для работы с MIME типами

## Импорты

- fs: модуль для работы с файловой системой
- fsp: промисы для работы с файловой системой
- path: модуль для работы с путями файловой системы