# modules/dataManager.js

## Описание

Модуль управления данными Electron приложения Likbez. Отвечает за инициализацию структуры данных, сериализацию и десериализацию данных, а также управление узлами данных и отслеживанием изменений в файловой системе.

## Основные функции

### initializeData(levels)

Инициализирует структуру данных приложения:

- Создает корневую директорию данных
- Создает пустой файл соединений корневого уровня
- Сохраняет конфигурацию уровней

### serializeToDisk(payload)

Сериализует данные на диск:

- Валидирует структуру данных
- Сохраняет корневой уровень
- Сохраняет теги категорий
- Сохраняет конфигурацию уровней

### loadFromDisk()

Загружает данные с диска:

- Загружает корневой уровень
- Загружает теги категорий
- Загружает конфигурацию уровней

### getNodeDirectory(nodeId, navPath)

Получает путь к папке узла по его ID и пути навигации:

- Проходит по пути навигации
- Находит папку целевого узла

### startWatching(callback)

Начинает отслеживание изменений в файловой системе с помощью WatcherService.

### stopWatching()

Останавливает отслеживание изменений в файловой системе.

## Приватные методы

### _saveRootLevel(subLevels)

Сохраняет корневой уровень данных с помощью NodeRepository.

### _loadRootLevel(subLevels)

Загружает корневой уровень данных с помощью NodeRepository.

### _findNodeFolder(parentDir, nodeId)

Находит папку узла по его ID с помощью NodeRepository.

### _saveNodeContent(nodeDir, node)

Сохраняет содержимое узла (заглушка).

### _loadNodeContent(nodeDir)

Загружает содержимое узла с помощью NodeRepository.

## Зависимости

- path: модуль для работы с путями файловой системы
- ValidationUtils: утилиты для валидации данных
- storageService: сервис хранения данных
- NodeSerializer: сериализатор узлов данных
- NodeRepository: репозиторий узлов данных
- WatcherService: сервис отслеживания изменений

## Импорты

- path: модуль для работы с путями файловой системы
- ValidationUtils из ./utils: утилиты для валидации данных
- storageService из ./storage/storageService: сервис хранения данных
- NodeSerializer из ./storage/nodeSerializer: сериализатор узлов данных
- NodeRepository из ./storage/nodeRepository: репозиторий узлов данных
- WatcherService из ./storage/watcherService: сервис отслеживания изменений