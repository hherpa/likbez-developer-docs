# modules/storage/nodeSerializer.js

## Описание

Сериализатор узлов данных Electron приложения Likbez. Отвечает за сохранение и загрузку содержимого узлов данных, разделяя метаданные и содержимое.

## Основные функции

### constructor(storageService)

Инициализирует сериализатор узлов:

- storageService: сервис хранения данных

### saveNodeContent(nodeDir, node)

Сохраняет содержимое узла:

- Разделяет содержимое и метаданные узла
- Сохраняет содержимое в content.md
- Сохраняет метаданные в node.json
- Обрабатывает ошибки с логированием

### loadNodeContent(nodeDir)

Загружает содержимое узла:

- Проверяет наличие content.md и node.json
- Загружает содержимое из content.md
- Загружает метаданные из node.json
- Объединяет содержимое и метаданные
- Возвращает объединенные данные узла
- Обрабатывает ошибки с логированием

## Структура хранения

### Файлы узла
- content.md - содержимое узла (текст в формате Markdown)
- node.json - метаданные узла (ID, заголовок, тип и другие данные без содержимого)

## Логика работы

### Сохранение
1. Разделяет содержимое (data.content) и метаданные узла
2. Сохраняет содержимое в отдельный файл content.md
3. Сохраняет метаданные без содержимого в node.json

### Загрузка
1. Проверяет наличие файлов content.md и node.json
2. Если есть оба файла, загружает и объединяет их
3. Если есть только node.json, загружает только метаданные
4. Если нет файлов, возвращает null

## Импорты

- path: модуль для работы с путями файловой системы