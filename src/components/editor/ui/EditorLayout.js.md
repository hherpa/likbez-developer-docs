# EditorLayout Component Documentation

## Описание
EditorLayout - это компонент, который определяет структуру модального окна редактора. Он координирует отображение всех компонентов редактора, включая модальное окно, меню, область содержимого, панель действий и диалог подтверждения. Компонент служит основным контейнером для всех элементов интерфейса редактора и управляет их взаимодействием.

## Экспортируемые компоненты
- `EditorLayout` - основной компонент макета редактора
- `default` - экспорт компонента по умолчанию

## Структура компонента
1. **Модальное окно**:
   - `EditorModalOverlay` - основной контейнер модального окна
   - Обеспечивает затемнение фона и центрирование содержимого

2. **Область содержимого**:
   - `EditorContentManager` - менеджер содержимого редактора
   - `EditorMenu` - меню редактора с инструментами

3. **Панель действий**:
   - `EditorActionBar` - панель с кнопками действий (сохранить, отменить и т.д.)

4. **Диалог подтверждения**:
   - `EditorConfirmDialog` - диалоговое окно подтверждения закрытия с несохраненными изменениями

## Взаимодействия
Компонент принимает множество пропсов для управления состоянием и взаимодействием:
- `isOpen` - флаг открытия модального окна
- `node` - узел для редактирования
- `editorData` - данные редактора
- `canNavigateToNext` - возможность перехода на следующий уровень
- `nextLevel` - следующий уровень
- `handleSave` - обработчик сохранения
- `showConfirmDialog` - флаг отображения диалога подтверждения
- `handleCancel` - обработчик отмены
- `handleConfirmClose` - обработчик подтверждения закрытия
- `handleCancelClose` - обработчик отмены закрытия
- `handleContentManagerData` - обработчик данных менеджера содержимого
- `handleHasChangesChange` - обработчик изменения состояния изменений
- `onClose` - обработчик закрытия
- `darkMode` - флаг темного режима
- `availableTags` - доступные теги
- `availableNodes` - доступные узлы
- `onImageUpload` - обработчик загрузки изображений
- `currentLevel` - текущий уровень
- `onNavigateToNextLevel` - обработчик перехода на следующий уровень

Компонент использует `useCallback` для мемоизации обработчиков и предотвращения лишних перерендеров. Реализует условный рендеринг - возвращает null, если модальное окно не открыто или отсутствует узел.

## Зависимости
- React (useCallback)
- `EditorModalOverlay` из './EditorModalOverlay'
- `EditorContentManager` из './EditorContentManager'
- `EditorMenu` из './EditorMenu'
- `EditorActionBar` из './EditorActionBar'
- `EditorConfirmDialog` из './EditorConfirmDialog'
- `CONFIRM_DIALOG` из '../constants'

## Архитектура
Компонент следует паттерну компоновщика (Composite), объединяя различные компоненты редактора в единую структуру. Использует мемоизацию обработчиков через `useCallback` для оптимизации производительности и предотвращения лишних перерендеров дочерних компонентов. Реализует четкое разделение ответственности между различными частями интерфейса редактора: модальное окно, содержимое, меню, панель действий и диалоги. Компонент следует принципу единой точки входа для всех компонентов редактора, что упрощает управление состоянием и взаимодействием между ними. Использует условный рендеринг для оптимизации отображения. Все обработчики мемоизированы для предотвращения создания новых функций при каждом рендере. Компонент экспортируется как именованный экспорт и по умолчанию, что обеспечивает гибкость в импорте.