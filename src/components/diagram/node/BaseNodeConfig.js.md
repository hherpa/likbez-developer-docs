# BaseNodeConfig

## 1. Назначение компонента/класса

Класс `BaseNodeConfig` отвечает исключительно за конфигурацию и настройки узлов диаграммы в приложении. Он предоставляет централизованный способ управления параметрами отображения, стилями и поведением узлов в диаграмме потока данных. Класс использует централизованный парсер markdown контента через функцию `parseMarkdownContent`.

## 2. Основные функции и методы

### Конструктор
- Принимает объект `options` с параметрами конфигурации
- Устанавливает значения по умолчанию для всех параметров узла

### Геттеры конфигурации:
- `getBackgroundColor(darkMode)` - возвращает цвет фона в зависимости от темы
- `getTextColor(darkMode)` - возвращает цвет текста в зависимости от темы
- `getBorderColor(tag)` - возвращает цвет границы на основе тега узла

### Геттеры размеров:
- `getMinWidth()` - минимальная ширина узла
- `getMaxWidth()` - максимальная ширина узла
- `getMinHeight()` - минимальная высота узла
- `getWidth()` - кастомная ширина узла
- `getHeight()` - кастомная высота узла

### Геттеры настроек:
- `getShowHandles()` - отображать ли соединительные точки
- `getShowFooter()` - отображать ли нижний колонтитул
- `getHandlePositions()` - позиции соединительных точек

## 3. Структура конфигурации

Класс поддерживает следующие параметры конфигурации:

### Основные параметры:
- `title` - заголовок узла (по умолчанию 'Новый узел')
- `minWidth` - минимальная ширина (по умолчанию 200)
- `maxWidth` - максимальная ширина (по умолчанию 400)
- `minHeight` - минимальная высота (по умолчанию 100)
- `width` - кастомная ширина (по умолчанию null)
- `height` - кастомная высота (по умолчанию null)

### Настройки отображения:
- `showHandles` - отображать соединительные точки (по умолчанию true)
- `showFooter` - отображать нижний колонтитул (по умолчанию true)
- `handlePositions` - позиции соединительных точек (по умолчанию Left для target, Right для source)

### Цветовая схема:
- `colors.light` - цвета для светлой темы (background, text, border)
- `colors.dark` - цвета для темной темы (background, text, border)

### Цвета тегов:
- 'Тег': '#3b82f6'
- 'Важно': '#ef4444'
- 'Идея': '#10b981'
- 'Вопрос': '#f59e0b'
- 'Задача': '#8b5cf6'

## 4. Взаимодействие с другими компонентами

Класс тесно взаимодействует со следующими компонентами:

1. **BaseNode.js** - использует конфигурацию для отображения узлов
2. **Парсер markdown** - через функцию `parseMarkdownContent` для обработки контента узлов
3. **Система тем** - использует параметры темы для определения цветов
4. **Система тегов** - использует теги для определения цветов границ

## 5. Используемые зависимости

### Внешние зависимости:
- `reactflow` - для использования перечисления `Position`

### Внутренние зависимости:
- `../../editor/system/parser` - для импорта функции `parseMarkdownContent`

## Пример использования

```javascript
const config = new BaseNodeConfig({
  title: 'Мой узел',
  minWidth: 250,
  colors: {
    light: {
      background: '#f0f0f0',
      text: '#333333'
    }
  }
});

const backgroundColor = config.getBackgroundColor(true); // для темной темы
const borderColor = config.getBorderColor('Важно'); // красный цвет